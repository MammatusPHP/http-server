<?php declare(strict_types=1);

// phpcs:disable
namespace Mammatus\Http\Server\Generated;

use League\Tactician\Container\ContainerLocator;
use League\Tactician\Handler\CommandHandlerMiddleware;
use League\Tactician\Handler\CommandNameExtractor\ClassNameExtractor;
use League\Tactician\Handler\MethodNameInflector\HandleInflector;
use Psr\Container\ContainerInterface;

/**
 * This class is generated by mammatus/http-server
 */
final class CommandHandlerMiddlewareFactory_{{ server.vhost().nameSanitized() }}_{{ bus.nameSanitized() }}
{
    public function create(ContainerInterface $container): CommandHandlerMiddleware
    {
        return new CommandHandlerMiddleware(
            new ClassNameExtractor(),
            new ContainerLocator(
                $container,
                [
                    {% for handler in bus.handlers() %}
                        \{{ handler.command() }}::class => \{{ handler.handler() }}::class,
                    {% endfor %}
                ]
            ),
            new HandleInflector()
        );
    }
}
// phpcs:enable
