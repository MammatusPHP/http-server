<?php

declare(strict_types=1);

namespace Mammatus\Http\Server\Generated;

use Mammatus\Groups\Attributes\Group;
use Mammatus\Groups\Type;
use Mammatus\Http\Server\Kubernetes\Helm\Vhost;

/**
 * This class is generated by mammatus/http-server, do not edit manually.
 * Or do, I'm not your parent, they will be overwritten next composer install/update ¯\_(ツ)_/¯.
 */
abstract class AbstractHelm
{
    /** @return iterable<string, Vhost> */
    final public function vhosts(): iterable
    {
        yield 'healthz' => new Vhost(
            /** @phpstan-ignore-next-line */
            new Group(Type::from('daemon'), 'healthz'),
            [
                [
                    'helper' => 'mammatus.container.port',
                    'type' => 'container',
                    'arguments' => [
                        'name' => 'healthz',
                        'containerPort' => 9666,
                    ],
                ],
                [
                    'helper' => 'mammatus.container.probe',
                    'type' => 'container',
                    'arguments' => [
                        'startUp' => [
                            'path' => '/probe/startup',
                            'vhost' => 'healthz',
                        ],
                        'readiness' => [
                            'path' => '/probe/readiness',
                            'vhost' => 'healthz',
                        ],
                        'liveness' => [
                            'path' => '/probe/liveness',
                            'vhost' => 'healthz',
                        ],
                    ],
                ],
            ],
        );
    }
}
